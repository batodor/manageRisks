<mvc:View
	controllerName="managerisks.controller.Detail"
	xmlns="sap.m"
	xmlns:l="sap.ui.layout"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.m.semantic"
	xmlns:custom="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	xmlns:footerbar="sap.ushell.ui.footerbar">

	<semantic:DetailPage
		id="page"
		navButtonPress="onNavBack"
		showNavButton="{device>/system/phone}"
		title="{i18n>detailTitle}"
		busy="{detailView>/busy}"
		busyIndicatorDelay="{detailView>/delay}">

		<semantic:content>
			<ObjectHeader
				id="objectHeader"
				title="{Name}">
			</ObjectHeader>
			<l:VerticalLayout width="100%" >
				<l:BlockLayoutCell>
					<OverflowToolbar width="100%">
						<Title id="lineItemsHeader" text="{detailView>/lineItemListTitle}" titleStyle="H3"/>
						<ToolbarSpacer/>
						<Button press="openDeal" text="{i18n>openDeal}" type="Emphasized" />
					</OverflowToolbar>
					<Table
						id="risksTable"
						width="auto"
						items="{ToComplianceRisks}"
						updateFinished="onRisksUpdateFinished"
						noDataText="{i18n>detailLineItemTableNoDataText}"
						busyIndicatorDelay="{detailView>/lineItemTableDelay}">
						<columns>
							<Column width="120px"><Text class="black" text="{i18n>counterparty}"/></Column>
							<Column width="120px"><Text class="black" text="{i18n>type}"/></Column>
							<Column><Text class="black" text="{i18n>description}"/></Column>
							<Column><Text class="black" text="{i18n>recommendedActions}"/></Column>
							<Column width="80px"><Text class="black" text="{i18n>dateFrom}"/></Column>
							<Column width="80px"><Text class="black" text="{i18n>dateTo}"/></Column>
							<Column width="80px"><Text class="black" text="{i18n>agreement}"/></Column>
							<Column width="80px"><Text class="black" text="{i18n>eliminated}"/></Column>
							<Column><Text class="black" text="{i18n>commentOfLawyer}"/></Column>
						</columns>
						<items>
							<ColumnListItem>
								<cells>
									<Text text="{Counterparty}"/>
									<Text custom:key="{RiskType}" text="{Type}"/>
									<Text text="{Description}"/>
									<Text text="{Actions}"/>
									<Text custom:key="{DateFrom}"
										text="{path: 'DateFrom', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }, constraints:{displayFormat:'Date'} }"/>
									<Text custom:key="{DateTo}"
										text="{path: 'DateTo', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }, constraints:{displayFormat:'Date'} }"/>
									<CheckBox selected="{Actual}" editable="false"/>
									<CheckBox selected="{CommentOfLawyer}" editable="false"/>
								</cells>
							</ColumnListItem>	
						</items>
					</Table>
				</l:BlockLayoutCell>
			</l:VerticalLayout>
			<l:VerticalLayout id="ratingElement" width="100%" >
				<l:BlockLayoutCell>
					<OverflowToolbar width="100%">
						<Title text="{i18n>counterpartyRatingAndLimits}" titleStyle="H3"/>
					</OverflowToolbar>
					<ToolbarSpacer/>
					<Label text=""/><ToolbarSpacer/>
					<Label class="black" text="{i18n>counterparty}:" width="240px"/>
					<Label text="{Counterparty}"/>
					<ToolbarSpacer/>
					<Label class="black" text="{i18n>rating}:" width="240px"/>
					<Label text="{RatingSet}"/>
					<ToolbarSpacer/>
					<Label class="black" text="{i18n>updateDate}:" width="240px"/>
					<Label custom:key="{Date}" text="{ path: 'Date', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' } }"/>
					<ToolbarSpacer/>
					<Label class="black" text="{i18n>expressScore}:" width="240px"/>
					<CheckBox class="rowCheckbox" selected="{ExpressScore}" editable="false"/>
				</l:BlockLayoutCell>
			</l:VerticalLayout>
			<l:VerticalLayout width="100%" >
				<l:BlockLayoutCell>
					<OverflowToolbar width="100%">
						<Title text="{i18n>limitsByCurrentRating}" titleStyle="H3"/>
					</OverflowToolbar>
					<Table
						id="limitsTable"
						width="auto"
						updateFinished="onLimitsUpdateFinished"
						noDataText="{i18n>detailLineItemTableNoDataText}"
						busyIndicatorDelay="{detailView>/lineItemTableDelay}">
						<columns>
							<Column><Text class="black" text="{i18n>tonnage}"/></Column>
							<Column><Text class="black" text="{i18n>period}"/></Column>
							<Column><Text class="black" text="{i18n>paymentTerm}"/></Column>
							<Column><Text class="black" text="{i18n>variant}"/></Column>
							<Column><Text class="black" text="{i18n>durationInDays}"/></Column>
							<Column><Text class="black" text="{i18n>tonnage}"/></Column>
							<Column><Text class="black" text="{i18n>info}"/></Column>
						</columns>
						<items>
							<ColumnListItem>
								<cells>
									<Text text="{Counterparty}"/>
									<Text custom:key="{RiskType}" text="{Type}"/>
									<Text text="{Description}"/>
									<Text text="{Actions}"/>
									<Text custom:key="{DateFrom}"
										text="{path: 'DateFrom', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }, constraints:{displayFormat:'Date'} }"/>
									<Text custom:key="{DateTo}"
										text="{path: 'DateTo', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }, constraints:{displayFormat:'Date'} }"/>
								</cells>
							</ColumnListItem>	
						</items>
					</Table>
					<ToolbarSpacer/>
				</l:BlockLayoutCell>
		</l:VerticalLayout>
		</semantic:content>

		<semantic:sendEmailAction>
			<semantic:SendEmailAction
				id="shareEmail"
				press="onShareEmailPress"/>
		</semantic:sendEmailAction>

		<semantic:shareInJamAction>
			<semantic:ShareInJamAction
				id="shareInJam"
				visible="{FLP>/isShareInJamActive}"
				press="onShareInJamPress"/>
		</semantic:shareInJamAction>

		<semantic:saveAsTileAction>
			<footerbar:AddBookmarkButton
				id="shareTile"
				title="{detailView>/saveAsTileTitle}"/>
		</semantic:saveAsTileAction>

	</semantic:DetailPage>

</mvc:View>